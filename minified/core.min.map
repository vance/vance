{"version":3,"file":"core.min.js","sources":["core.js"],"names":["angular","module","factory","Widget","service","$routeParams","$location","scope","urlParams","rootRoute","instanceNumber","init","this","defineListeners","Math","round","random","getMap","wildcard","route","path","split","onInit","that","$on","destroy","onDefineListeners","removeListeners","onRemoveListeners","onDestroy","strValue","map","undefined","arr","concat","i","length","buildPath","property","hasOwnProperty","push","join","$http","settings","buildResourcePath","sp","finalUrl","servicePath","endpoint","serviceConfig","endpoints","Error","version","addSlash","absoluteUrl","getAll","url","method","data","params","getBy","key","value","add","update","id","raiseTestHttpError","nothing","str","charAt","Model","defaults","prototype","setDataById","self","prop","getById","then","result","controller","$scope","BaseController","$rootScope","ErrorModal","SuccessModal","globalModelService","c","app","$globalScope","setSuccessCallback","showSuccess","showError","bind","activate","extend","traceVal","trace","val","$","html","shift","configModel","tileModel","gridModel","fscapeService","_hasGrid","_allowTouch","zoom","zoomMax","zoomMin","offsetX","offsetY","time","canIntro","mouseDownX","mouseDownY","mouseX","mouseY","mousePreviousX","mousePreviousY","dx","dy","startDragTime","Date","endDragTime","_mouseDown","_dragging","_flickingX","_flickingY","_scaling","flickTweenX","flickTweenY","zoomTween","prevPinchDist","offscreenLeft","offscreenRight","offscreenTop","offscreenBottom","hide","location","imageTiles","gridBoxes","config","endCoords","startCoords","is_touch_device","buildGrid","setupTouchEvents","setTimeout","TweenMax","to","css","left","top","document","documentElement","window","e","originalEvent","preventDefault","event","touches","targetTouches","pinchStart","pageX","changedTouches","pageY","down","pinchMove","move","clearTimeout","touchTimeout","pinchEnd","up","getConfig","getTiles","setZoomTarget","mousewheel","deltaY","zoomIn","zoomOut","startDistance","getPinchDistance","dist","sqrt","mouseDown","$event","parseInt","kill","mouseMove","setCSSPosition","mouseUp","flick","dTime","velX","velY","abs","onComplete","$apply","multiplier","newZoom","scale","gb","container","createElement","domId","setAttribute","x","y","full","thumb","currentTile","thumbUrl","jQuery","append","render","isPlaying","console","log","loadBoundaryOffsetX","tileWidth","loadBoundaryOffsetY","tileHeight","element","thumbElement","fullElement","offset","screenX","screenY","setIsOffscreen","loadFullResTiles","isOffscreenLeft","isOffscreenRight","col","currentTileId","row","isOffscreenTop","isOffscreenBottom","width","height","totalPages","tiles","attr","isOnLeft","isOnRight","innerWidth","isOnTop","isOnBottom","innerHeight","isOnScreen","toString","fullUrl","animloop","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","lastTime","vendors","cancelAnimationFrame","currTime","getTime","timeToCall","max","directive","restrict","replace","controllerAs","templateUrl","link","show","$window","fscape","win","onResize","togglePlayback","windowWidth","windowHeight","right","navClass","hideNav","goToSearch","goToError","require","$parse","ele","attrs","ngModelController","$watch","ngModel","booleanResult","ensureExpression","$setValidity","tileId","numericId","isLoading","filter","input","toLowerCase","substring","toUpperCase","$q","$log","$timeout","ErrorService","numLoadings","request","preventLoader","$broadcast","when","response","responseError","status","setErrorMessage","errorMessage","reject","$httpProvider","interceptors","$cookies","hasRedirect","loginRedirectUrl","setRedirectUrl","indexOf","redirect","getRedirectUrl","touchService","$element","errorService","el","btfModal","wrapperUrl","dataSaved","BaseModel","configService","cdnVersion","cdnPrefix","basePath","pathThumbnail","pathWebsize","license","startPage","model","deferred","defer","resolve","fallback","promise","modelName","serviceName","BaseHttpService","updatedData","successCallback","func","color","rowOffset","colOffset","tileOffset","transientId","floor","thumbSrc","tileService","generalUtils","printStackTrace","createTiles","cachedTilesPromise","updateTileData","name","names","tile","index","absoluteX","absoluteY","combine","string","pad","overlay","showHelpIcon","showCloseIcon","showOverlay","deactivateOnShadowClick","addClass","close","undefineListeners","onShadowClick","target","removeClass","remove","$digest","constantsModule","enums","Object","freeze","$animate","$compile","$controller","$templateCache","locals","cbSuccess","cbError","callbackSuccess","callbackError","all","tHtml","templateHtml","wHtml","wrapperHtml","results","attach","outterElem","innerElem","find","enter","$new","ctrl","success","error","deactivate","leave","$destroy","active","template","noop","body","get","cache","chunks","argumentsArray","slice","apply","arguments","a","padString"],"mappings":"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"}